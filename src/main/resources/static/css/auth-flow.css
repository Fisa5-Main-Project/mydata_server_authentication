/* --- 기본 & 레이아웃 --- */
html, body {
    margin: 0;
    padding: 0;
    height: 100%;
    font-family: -apple-system, BlinkMacSystemFont, "Apple SD Gothic Neo", "Pretendard", Roboto, "Malgun Gothic", "Dotum", sans-serif;
    color: #1A1A1A;

    /* [수정]
       - body에 회색 배경(#F8F9FA)을 적용합니다.
       - [FIX] iPhone 16 Pro에서 전체 화면으로 나와야 하므로,
       - PC 테스트용으로 넣었던 display: flex 관련 속성을 모두 제거합니다.
    */
    background-color: #F8F9FA;
}

.auth-container {
    display: flex;
    flex-direction: column;
    overflow: hidden;
    position: relative;
    background-color: #FFFFFF;

    /* [수정]
       - height: 100%를 사용해 body를 꽉 채웁니다.
       - max-width를 두어 PC/태블릿에서는 너무 넓어지지 않게 합니다.
       - margin: 0 auto로 PC/태블릿에서 중앙 정렬되도록 합니다.
       - [FIX] PC 테스트용 box-shadow 및 max-height 제거
    */
    width: 100%;
    height: 100%;
    max-width: 430px; /* (PC/태블릿에서 중앙 정렬을 위한 최대 너비) */
    margin: 0 auto; /* (PC/태블릿에서 중앙 정렬) */
    border-radius: 40px; /* 디바이스 모서리 둥근 느낌 */
}

.page-section {
    width: 100%;
    height: 100%;
    display: flex;
    flex-direction: column;
    position: absolute; /* 페이지 전환을 위해 겹침 */
    top: 0;
    left: 0;
    transition: opacity 0.3s ease-in-out;
}

/* 페이지 숨김 유틸리티 */
.page-section.hidden {
    opacity: 0;
    pointer-events: none; /* 숨겨졌을 때 클릭 방지 */
    z-index: -1;
}

.hidden {
    display: none !important;
}

.content {
    flex-grow: 1;
    overflow-y: auto;
    padding: 112px 24px 20px 24px;
    box-sizing: border-box;
}

.content-center {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-align: center;
}

.button-container {
    flex-shrink: 0;
    padding: 10px 24px;
    background-color: #ffffff;
    box-shadow: 0 -4px 10px rgba(0, 0, 0, 0.05);
    padding-bottom: calc(10px + env(safe-area-inset-bottom));
}

/* --- 공용 컴포넌트 --- */
.title {
    font-size: 26px;
    font-weight: 500;
    line-height: 1.4;
    margin-bottom: 40px;
}
.title strong {
    font-weight: bold;
}
.subtitle {
    font-size: 16px;
    color: #555;
    margin-top: -30px;
    margin-bottom: 50px;
}
.chip {
    background-color: #FFF3E0;
    color: #E67E22;
    padding: 8px 16px;
    border-radius: 20px;
    font-size: 14px;
    font-weight: bold;
    margin-bottom: 30px;
}

.btn-primary {
    height: 60px;
    width: 100%;
    border: none;
    border-radius: 12px;
    background-color: #FFA726; /* 오렌지색 (활성) */
    color: white;
    font-size: 18px;
    font-weight: bold;
    cursor: pointer;
}
.btn-primary:disabled {
    background-color: #E0E0E0; /* 회색 (비활성) */
    color: #9E9E9E;
    cursor: not-allowed;
}
.btn-secondary {
    height: 50px;
    border: none;
    border-radius: 10px;
    background-color: #FFA726; /* 오렌지색 */
    color: white;
    font-weight: bold;
    cursor: pointer;
    padding: 0 16px;
}
.btn-secondary:disabled {
    background-color: #E0E0E0;
    color: #9E9E9E;
}

/* --- 페이지 1: 약관 동의 --- */
.check-group { display: flex; align-items: center; margin-bottom: 16px; cursor: pointer; }
.check-input { display: none; }
.check-icon { display: inline-block; width: 28px; height: 28px; border-radius: 50%; background-color: #E0E0E0; margin-right: 12px; background-image: url("data:image/svg+xml,%3Csvg width='14' height='10' viewBox='0 0 14 10' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 4.5L5 8.5L13 1' stroke='white' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E"); background-repeat: no-repeat; background-position: center; }
.check-input:checked + .check-icon { background-color: #FFA726; }
.check-label { font-size: 16px; }
.check-label strong { font-size: 18px; font-weight: bold; }
.check-label small { display: block; font-size: 14px; color: #757575; margin-top: 4px; }
hr { border: none; border-top: 1px solid #F0F0F0; margin: 20px 0; }
.consent-list { list-style: none; padding: 0; margin: 0; }
.consent-list li { display: flex; align-items: center; justify-content: space-between; }
.arrow { font-size: 20px; color: #9E9E9E; text-decoration: none; font-weight: bold; }


/* --- 페이지 2: 본인 확인 --- */
.form-group {
    margin-bottom: 24px;
    position: relative;
}
.form-group-split {
    display: flex;
    gap: 10px;
    margin-bottom: 12px;
}
.form-input {
    width: 100%;
    height: 50px;
    padding: 0 20px;
    border: 1px solid #E0E0E0;
    border-radius: 10px;
    font-size: 16px;
    box-sizing: border-box; /* 패딩 포함 크기 계산 */

    /* [개선] select 태그도 input과 동일하게 보이도록 appearance 수정 */
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
    background-color: #FFFFFF; /* select 기본 배경색 제거 */
}
/* [추가] select 태그용 화살표 아이콘 */
select.form-input {
    background-image: url("data:image/svg+xml,%3Csvg width='12' height='8' viewBox='0 0 12 8' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 1.5L6 6.5L11 1.5' stroke='%239E9E9E' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: right 20px center;
    padding-right: 50px; /* 화살표 아이콘과 텍스트 겹침 방지 */
}
select.form-input:invalid {
    color: #757575; /* placeholder 색상과 유사하게 (옵션) */
}

.form-input:read-only {
    background-color: #F5F5F5;
}
.form-group-split .form-input {
    flex: 1;
}
.form-group-split .btn-secondary {
    flex-shrink: 0;
}
.timer {
    position: absolute;
    right: 16px;
    top: 50%;
    transform: translateY(-50%);
    color: #D32F2F; /* 빨간색 타이머 */
    font-size: 14px;
}

.rrn-container {
    display: flex;
    align-items: center;
    gap: 10px;
}
.rrn-container .form-input {
    width: 100%; /* (flex-grow 1과 동일한 효과) */
}
.rrn-container .form-input[type="password"] {
    flex-grow: 0;
    width: 80px; /* "뒤 1자리" 칸 크기 고정 */
    text-align: center;
    padding-left: 10px; /* (가운데 정렬을 위한 조정) */
    padding-right: 10px;
}
.rrn-container span {
    font-size: 18px;
    color: #BDBDBD;
}
/* [FIX]
   - HTML의 'dot-mask' 클래스와 일치하도록 선택자 수정
   - (기존: .rrn-dots)
*/
.rrn-container .dot-mask {
    font-size: 18px;
    color: #1A1A1A;
    letter-spacing: 2px;
    margin-left: 4px;
}

.input-with-button-container {
    display: flex;
    align-items: center;
    gap: 10px;
}
.input-with-button-container .form-input {
    flex-grow: 1;
}
.input-with-button-container .btn-secondary {
    /* (크기는 .btn-secondary 기본값 60px 사용) */
    white-space: nowrap; /* "인증번호 받기" 줄바꿈 방지 */
}

/* --- 페이지 3: 로딩 --- */
@keyframes spin {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
}

/* [FIX]
   - HTML의 .spinner-container, .spinner, .spinner-text 구조에 맞게 CSS 수정
   - (기존: .loading-spinner, .loading-percent)
*/
.spinner-container {
    width: 150px;
    height: 150px;
    position: relative; /* 자식 요소(.spinner-text)를 absolute로 배치하기 위한 기준 */
    margin-bottom: 20px; /* subtitle과의 간격 보정 */
}

.spinner {
    width: 100%;
    height: 100%;
    border-radius: 50%;

    /* 그라데이션 테두리 (JS가 이 값을 업데이트) */
    background: conic-gradient(
            #FFA726 0% 0%, /* 예: 0% 55% */
            #F0F0F0 0% 100% /* 예: 55% 100% */
    );

    position: relative; /* ::after를 위한 기준 */
}

/* 내부 원 (흰색) */
.spinner::after {
    content: "";
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 120px;
    height: 120px;
    background-color: white;
    border-radius: 50%;
}

.spinner-text {
    /* [FIX] .spinner와 .spinner-text가 겹치도록 absolute로 변경 */
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;

    display: flex;
    align-items: center;
    justify-content: center;

    font-size: 32px;
    font-weight: bold;
    color: #FFA726;
    z-index: 1; /* 흰색 원 위에 표시 */
}

/* --- 페이지 4: 인증서 --- */
.cert-ui-placeholder {
    width: 90%;
    height: 300px;
    background-color: #FFFFFF;
    border: 1px solid #E0E0E0;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
    border-radius: 16px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 20px;
    color: #757575;
}

/* [FIX]
   - HTML의 ID 'page-section-cert-select'와 일치하도록 선택자 수정
   - (기존: #page-certificate)
*/
#page-section-cert-select {
    background: linear-gradient(180deg, #FFF3E0 0%, #FFFFFF 50%);
}


/* --- [페이지 4] 금융 인증서 카드 스타일 (새로 추가) --- */

/* 전체 래퍼: 상단 여백 조절 */
.cert-wrapper {
    justify-content: flex-start; /* 중앙 정렬보다는 위에서부터 배치 */
    padding-top: 60px;
}

/* 상단 텍스트 영역 */
.cert-header-text {
    text-align: center;
    margin-bottom: 30px;
    color: #333;
    line-height: 1.5;
}
.cert-header-text .highlight {
    color: #F57C00;
    font-weight: bold; /* 이미 굵게 설정되어 있음 */
}
.cert-header-text strong {
    font-size: 20px;
    color: #000;
}

/* 주황색 카드 디자인 */
.cert-card {
    width: 280px;  /* 카드 너비 */
    height: 420px; /* 카드 높이 */
    /* 배경: 밝은 주황 -> 진한 주황 그라데이션 */
    background: linear-gradient(135deg, #FF9800 0%, #F57C00 100%);
    border-radius: 20px;
    box-shadow: 0 10px 25px rgba(255, 152, 0, 0.4);
    padding: 24px;
    box-sizing: border-box;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    color: #fff; /* 텍스트는 흰색 유지 */
    position: relative;
    margin-bottom: 24px;
}

/* 카드 내부 타이틀의 이름 부분 */
.user-title .name-bold {
    font-weight: 900; /* 700은 bold, 900은 더 두꺼운 bold */
    font-size: 1.1em; /* 필요하면 크기도 살짝 키움 (선택사항) */
}


/* 카드 상단 (인증이력) */
.card-top {
    text-align: right;
}
.history-link {
    font-size: 13px;
    opacity: 0.8;
    cursor: pointer;
}

/* 카드 본문 (이름, 유효기간) */
.card-body {
    margin-top: -40px; /* 약간 위로 올림 */
}
.user-title {
    font-size: 24px;
    font-weight: 400;
    line-height: 1.4;
    margin-bottom: 20px;
}
.star-icon {
    color: #FFD700; /* 금색 별 */
    font-size: 22px;
    vertical-align: middle;
}
.card-info {
    font-size: 14px;
    opacity: 0.9;
}
.info-row {
    margin: 4px 0;
}
.info-row .label {
    margin-right: 8px;
    opacity: 0.7;
}

/* 카드 하단 (발급은행) */
.card-footer {
    text-align: right;
    display: flex;
    flex-direction: column;
    align-items: flex-end;
}
.bank-label {
    font-size: 12px;
    opacity: 0.7;
    margin-bottom: 4px;
}
.bank-logo-area {
    display: flex;
    align-items: center;
    gap: 8px;
}
.bank-name {
    font-weight: bold;
    font-size: 16px;
}
/* 은행 아이콘 흉내 (실제 이미지가 있다면 img 태그로 교체) */
.bank-icon-placeholder {
    width: 24px;
    height: 24px;
    background-color: rgba(255,255,255,0.2);
    border-radius: 4px;
    /* 실제로는 background-image: url(...) 사용 */
}

/* 카드 밑 '인증서관리' 링크 */
.cert-bottom-menu {
    margin-top: 10px;
}
.manage-link {
    font-size: 15px;
    color: #757575;
    text-decoration: underline;
    text-underline-offset: 4px;
}